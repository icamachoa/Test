describe('Totalizador', function() {

	var tot = new cTotalizador();
	
	it('Debe totalizar', function() {
		var json = [
			{"R":1,"esCanalizado":"0","FechaCanalizado":null,"HoraCanalizado":null,"Canalizo":null,"Canalizado":null,"Tkv":"V-B35A14D6-B396-42AB-8F40-961C2E35B733","Tko":"O-92B9B98F-D876-4A04-9D30-9E0FD56FC6B3","Tkp":"P-2AF3BA5B-EDA8-4A32-A9AD-E3C875846A53","VerArchivos":"","tieneArchivos":0,"IdProspecto":91280,"IdVenta":3385,"IdOportunidad":6143,"Moneda":"MXN","TipoDeCambio":"1","CambioDefault":"1","asignado":51106,"tOportunidad":"true","tEtiquetar":"true","tCancelar":"true","NombreCliente":"MARTIN GARCIA","Concepto":"Nueva oportunidad para comision","Puesto":"","Sexo":"Hombre","AnticiposMonto":"1000","AnticiposComision":"100","Referencia":null,"Subtotal":"1000","Impuestos":"0","Descuento":"0","PorcentajeComision":".1","SaldoMonto":"0","Monto":"1000","GanadaFecha":"2016-05-18 00:00:00","Pagada_Fecha":"18/05/2016","Ganada_Fecha":"18/05/2016","Etiquetas":null,"Empresa":"","Iniciales":"AW","IdGrupo":88,"EjecutivoNombre":"Branch4 SalesUp!","Fase":"Cotizado","orden":1,"TiempoTranscurrido":0,"Origen":"Página Web","LineaProducto":"Otros","cp1":0,"cp2":0,"cp3":0,"cp4":0,"cp5":0,"cp6":0,"cp7":0,"cp8":0,"cp9":"","cp10":"","cp11":"","cp12":"","cp13":"","cp14":"","cp15":"","cp16":"","cp17":"","cp18":"","cp19":"","cp20":"","cp21":null,"cp22":null,"cp23":null,"cp24":null,"cp25":null,"cp26":"","cp27":"","cp28P":"","cp29":"","cp30":"","cp31P":"","cp32P":"","cp33":null,"cp34":null,"cp35":"","cp36":"","cp37":"","cp38":"","cp39":"","cp40":"","cp41":"","cp42":"","cp43":"","cp44":"","cp45":"","cp46":"","cp47":"","cp48":"","cp49":"","cp50":"","cp51":"","cp52":"","cp53":"","cp54":"","cp55":"","cp56":"","cp57":"","cp58":"","cp59":"","cp60":"","cp61":"","cp62":"","cp63":"","cp64":"","cp1O":null,"cp2O":null,"cp3O":null,"cp4O":null,"cp5O":null,"cp6O":null,"cp7O":null,"cp8O":null,"cp9O":"","cp10O":"","cp11O":"","cp12O":"","cp13O":null,"cp14O":null,"cp15O":null,"cp16O":null,"cp17O":null,"cp18O":null,"cp19O":null,"cp20O":null,"cp21O":null,"cp22O":null,"cp23O":null,"cp24O":null,"cp25O":null,"cp26O":null,"cp27O":null,"cp28O":null,"cp29O":null,"cp30O":null,"cp31O":null,"cp32O":null,"cp33O":null,"cp34O":null,"cp35O":null,"cp36O":null,"cp37O":null,"cp38O":null,"cp39O":null,"cp40O":null,"cp41O":null,"cp42O":null,"cp43O":null,"cp44O":null,"cp45O":null,"cp46O":null,"cp47O":null,"cp48O":null,"cp49O":null,"cp50O":null,"cp51O":null,"cp52O":null,"cp53O":null,"cp54O":null,"cp55O":null,"cp56O":null,"cp57O":null,"cp58O":null,"cp59O":null,"cp60O":null,"cp61O":null,"cp62O":null,"cp63O":null,"cp64O":null,"pCat1":null,"pCat2":null,"pCat3":null,"oCat1":null,"oCat2":null,"oCat3":null,"eCat1":null,"eCat2":null,"eCat3":null,"CatIndustria":null,"CatCorporativo":null,"proximoEvento":null,"SIMBOLO":"$","UNICODE":36,"nFila":1},
			{"R":1,"esCanalizado":"0","FechaCanalizado":null,"HoraCanalizado":null,"Canalizo":null,"Canalizado":null,"Tkv":"V-06CC326D-42DD-4EA3-AC4D-6A3C4C64C851","Tko":"O-94EC776B-E668-41A3-8234-0E7E6A80D3DD","Tkp":"P-0B2900A8-5DBA-43F1-8332-F45D2413591A","VerArchivos":"","tieneArchivos":0,"IdProspecto":91288,"IdVenta":3386,"IdOportunidad":6144,"Moneda":"ARS","TipoDeCambio":"12","CambioDefault":"1","asignado":51106,"tOportunidad":"true","tEtiquetar":"true","tCancelar":"true","NombreCliente":"Jose Alamos","Concepto":"demooo","Puesto":"","Sexo":"Hombre","AnticiposMonto":"10000","AnticiposComision":"1000","Referencia":null,"Subtotal":"10000","Impuestos":"0","Descuento":"0","PorcentajeComision":".1","SaldoMonto":"0","Monto":"10000","GanadaFecha":"2016-05-23 00:00:00","Pagada_Fecha":"23/05/2016","Ganada_Fecha":"23/05/2016","Etiquetas":null,"Empresa":"","Iniciales":"AW","IdGrupo":88,"EjecutivoNombre":"Branch4 SalesUp!","Fase":"Cotizado","orden":1,"TiempoTranscurrido":0,"Origen":"Página Web","LineaProducto":"Otros","cp1":0,"cp2":0,"cp3":0,"cp4":0,"cp5":0,"cp6":0,"cp7":0,"cp8":0,"cp9":"","cp10":"","cp11":"","cp12":"","cp13":"","cp14":"","cp15":"","cp16":"","cp17":"","cp18":"","cp19":"","cp20":"","cp21":null,"cp22":null,"cp23":null,"cp24":null,"cp25":null,"cp26":"","cp27":"","cp28P":"","cp29":"","cp30":"","cp31P":"","cp32P":"","cp33":null,"cp34":null,"cp35":"","cp36":"","cp37":"","cp38":"","cp39":"","cp40":"","cp41":"","cp42":"","cp43":"","cp44":"","cp45":"","cp46":"","cp47":"","cp48":"","cp49":"","cp50":"","cp51":"","cp52":"","cp53":"","cp54":"","cp55":"","cp56":"","cp57":"","cp58":"","cp59":"","cp60":"","cp61":"","cp62":"","cp63":"","cp64":"","cp1O":null,"cp2O":null,"cp3O":null,"cp4O":null,"cp5O":null,"cp6O":null,"cp7O":null,"cp8O":null,"cp9O":"","cp10O":"","cp11O":"","cp12O":"","cp13O":null,"cp14O":null,"cp15O":null,"cp16O":null,"cp17O":null,"cp18O":null,"cp19O":null,"cp20O":null,"cp21O":null,"cp22O":null,"cp23O":null,"cp24O":null,"cp25O":null,"cp26O":null,"cp27O":null,"cp28O":null,"cp29O":null,"cp30O":null,"cp31O":null,"cp32O":null,"cp33O":null,"cp34O":null,"cp35O":null,"cp36O":null,"cp37O":null,"cp38O":null,"cp39O":null,"cp40O":null,"cp41O":null,"cp42O":null,"cp43O":null,"cp44O":null,"cp45O":null,"cp46O":null,"cp47O":null,"cp48O":null,"cp49O":null,"cp50O":null,"cp51O":null,"cp52O":null,"cp53O":null,"cp54O":null,"cp55O":null,"cp56O":null,"cp57O":null,"cp58O":null,"cp59O":null,"cp60O":null,"cp61O":null,"cp62O":null,"cp63O":null,"cp64O":null,"pCat1":null,"pCat2":null,"pCat3":null,"oCat1":null,"oCat2":null,"oCat3":null,"eCat1":null,"eCat2":null,"eCat3":null,"CatIndustria":null,"CatCorporativo":null,"proximoEvento":null,"SIMBOLO":"$","UNICODE":36,"nFila":2}
		];

		expect(tot.totaliza(json,{columna:'AnticiposMonto', operacion:'suma', tCambio:'TipoDeCambio'})).toEqual({AnticiposMonto:121000});

	});
});